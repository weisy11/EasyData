# 低质图像过滤

------


## 目录

- [1. 背景](#1)
- [2. 模型](#2)
  - [2.1 模糊图像过滤模型](#2.1)
    - [2.1.1 训练](#2.1.1)
    - [2.1.3 部署](#2.1.3)
  - [2.2 广告码图像过滤模型](#2.2)
    - [2.2.1 训练](#2.2.1)
    - [2.2.3 部署](#2.2.3)
- [3. 视觉任务表现](#3)
  - [3.1 模糊图像过滤模型表现](#2.1)
    - [3.1.1 验证集指标](#3.1.1)
    - [3.1.2 ImageNet 数据指标](#3.1.1)
    - [3.1.3 COCO 数据指标](#3.1.1)
  - [3.2 广告码图像过滤表现](#2.2)
    - [3.2.1 验证集指标](#3.1.1)
    - [3.2.2 ImageNet 数据指标](#3.1.1)
    - [3.2.3 ImageNet 数据指标](#3.1.1)

<a name="1"></a>

## 1. 背景

近些年计算机视觉领域迎来了蓬勃的发展，相关的算法也在各种业务上落地，产生了巨大的价值。在落地过程中，数据整理、模型训练、部署后处理等开发环节都至关重要，而在这些重要的环节中，数据的质量可谓是重中之重，其好坏直接决定了最终落地业务的性能。基于此，我们开源了低质图像过滤的工具，其可以在模型开发的任何阶段使用。在数据整理阶段，其可以通过这个工具筛选掉潜在的低质数据，在模型训练阶段，该工具可以成为数据预处理的一部分，在模型部署及后处理过程中，其可以通过后处理逻辑将低质图片过滤，间接提升模型精度，从而提升用户整体体验。

为了使用户方便地使用该工具，我们尽可能提升了该工具的易用性，模型方面，我们使用了非常轻量的模型，在CPU上也可以很快的运行。在使用方面，我们提供了Wheel包的使用方式，用户可以方便地集成到Python代码或者shell中。

<a name="2"></a>

## 2. 模型

目前低质图片过滤模型包含模糊图像过滤模型、广告码图像过滤模型。

<a name="2.1"></a>
### 2.1 模糊图像过滤模型

<a name="2.1.1"></a>
#### 2.1.1 训练

此处我们希望得到一个高精度且轻量级的二分类模型，所以我们采用了PaddleClas的PULC方案，该任务的训练详情可以参考[PULC模糊清晰图像分类](@clas_pulc)。

<a name="2.1.2"></a>
#### 2.1.2 部署

我们可以很方便地使用easydate的whl包进行部署，关于其部署方法，可以参考[模糊图像过滤部署](@quickstart)。

<a name="2.1"></a>
### 2.1 广告码图像过滤模型

<a name="2.1.1"></a>
#### 2.1.1 训练

此处我们希望得到一个高精度且轻量级的二分类模型，所以我们采用了PaddleClas的PULC方案，该任务的训练详情可以参考[PULC是否包含广告码图像分类](@clas_pulc)。

<a name="2.1.2"></a>
#### 2.1.2 部署

我们可以很方便地使用easydate的whl包进行部署，关于其部署方法，可以参考[广告码图像过滤部署](@quickstart)。

<a name="3"></a>

## 3 视觉任务表现

<a name="3.1"></a>
### 3.1 模糊图像过滤模型表现

<a name="3.1.1"></a>
#### 3.1.1 验证集指标


| Accuracy | 模型存储 | 推理时间 | 
| :--: | :--: | :--: |
|   95.3%   |   7M   |     2.1ms     | 

<a name="3.1.2"></a>
#### 3.1.2 ImageNet 数据指标

| 阈值 | FPR| TPR | 
| :--: | :--: | :--: |
| 0.5 | 29.2% | 96.7% | 
| 0.7 | 15.8% | 92.4% | 
| 0.8 | 10.1% | 85.4%| 
| 0.9 | 4.5% | 71.0% | 
| 0.95 | 1.8% | 51.5% | 


<a name="3.1.3"></a>
#### 3.1.3 COCO数据指标

| 阈值 | FPR| TPR | 
| :--: | :--: | :--: |
| 0.5 | 20.1% | 96.7% | 
| 0.7 | 9.8% | 92.4% | 
| 0.8 | 5.6% | 85.4%| 
| 0.9 | 2.2% | 71.0% | 
| 0.95 | 0.80% | 51.5% | 

<a name="3.2"></a>
### 3.2 广告码图像过滤表现

<a name="3.2.1"></a>
#### 3.2.1 验证集指标

| Accuracy | 模型存储 | 推理时间 | 
| :--: | :--: | :--: |
|   94.9%   |   7M   |     2.1ms     | 

<a name="3.2.2"></a>
#### 3.2.2 ImageNet 数据指标

| 阈值 | FPR| TPR | 
| :--: | :--: | :--: |
| 0.5 | 2.3% | 92.7% | 
| 0.7 | 1.2% | 90.9% | 
| 0.8 | 0.84% | 90.0%| 
| 0.9 | 0.48% | 88.0% | 
| 0.95 | 0.31% | 86.1% | 

<a name="3.2.3"></a>
#### 3.2.3 COCO数据指标

| 阈值 | FPR| TPR | 
| :--: | :--: | :--: |
| 0.5 | 2.7% | 92.7% | 
| 0.7 | 1.4% | 90.9% | 
| 0.8 | 1.0% | 90.0%| 
| 0.9 | 0.42% | 88.0% | 
| 0.95 | 0.2% | 86.1% | 

